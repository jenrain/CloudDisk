{"ast":null,"code":"import FunctionBar from \"../components/FunctionBar.vue\";\nimport IconTypeList from '../components/IconTypeList.vue';\nexport default {\n  name: \"Files\",\n\n  data() {\n    return {\n      listData: [],\n      folderList: {},\n      // 是否已经被创建\n      // isCreated: false,\n      // 排序方式\n      sortType: \"time\",\n      // 展示方式 icon table\n      showType: \"icon\",\n      // 搜索的文件夹\n      searchFolder: []\n    };\n  },\n\n  components: {\n    FunctionBar,\n    IconTypeList\n  },\n  methods: {},\n\n  async created() {\n    this.$store.commit(\"updateCurrentParentId\", 0);\n    this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n    this.$axios({\n      url: \"/user/file/list\",\n      method: \"post\",\n      data: {\n        id: this.$store.state.currentParentId\n      }\n    }).then(res => {\n      console.log(res.data);\n\n      if (res.data.success) {\n        this.listData = res.data.files_list;\n        this.searchFolder = res.data.folder_list;\n      } else {\n        this.$message.error(\"文件请求失败\");\n      }\n    });\n  },\n\n  watch: {}\n};","map":{"version":3,"mappings":"AA6BA;AACA;AACA;EACAA,aADA;;EAEAC;IACA;MACAC,YADA;MAEAC,cAFA;MAGA;MACA;MACA;MACAC,gBANA;MAOA;MACAC,gBARA;MASA;MACAC;IAVA;EAYA,CAfA;;EAgBAC;IACAC,WADA;IAEAC;EAFA,CAhBA;EAoBAC,WApBA;;EAsBA;IACA;IACA;IACA;MACAC,sBADA;MAEAC,cAFA;MAGAX;QACAY;MADA;IAHA,GAMAC,IANA,CAMAC;MACAC;;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;MACA;IACA,CAdA;EAeA,CAxCA;;EAyCAC;AAzCA","names":["name","data","listData","folderList","sortType","showType","searchFolder","components","FunctionBar","IconTypeList","methods","url","method","id","then","res","console","watch"],"sourceRoot":"src/components","sources":["Files.vue"],"sourcesContent":["<template>\r\n    <div class=\"Files\">\r\n      <function-bar\r\n        v-bind:listData.sync=\"listData\"\r\n        v-bind:searchFolder.sync=\"searchFolder\"\r\n        @multDelete=\"$refs.iconTypeList.deleteCurrentFile('mult')\"\r\n        @multDownload=\"$refs.iconTypeList.downloadCurrentFile('mult')\"\r\n        @multMove=\"$refs.iconTypeList.moveFile('mult')\"\r\n        @changeSortType=\"(type) => (sortType = type)\"\r\n        @changShowType=\"(type) => (showType = type)\"\r\n        @multCollect=\"\r\n          (flag) => {\r\n            $refs.iconTypeList.collectCurrentFile(flag, 'mult');\r\n          }\r\n        \"\r\n      ></function-bar>\r\n      <icon-type-list\r\n      v-bind:listData.sync=\"listData\"\r\n      v-bind:searchFolder.sync=\"searchFolder\"\r\n      :folderList=\"folderList\"\r\n      :sortType=\"sortType\"\r\n      :showType=\"showType\"\r\n      ref=\"iconTypeList\"\r\n      >\r\n      </icon-type-list>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import FunctionBar from \"../components/FunctionBar.vue\";\r\n  import IconTypeList from '../components/IconTypeList.vue';\r\n  export default {\r\n    name: \"Files\",\r\n    data() {\r\n      return {\r\n        listData: [],\r\n        folderList: {},\r\n        // 是否已经被创建\r\n        // isCreated: false,\r\n        // 排序方式\r\n        sortType: \"time\",\r\n        // 展示方式 icon table\r\n        showType: \"icon\",\r\n        // 搜索的文件夹\r\n        searchFolder: [],\r\n      };\r\n    },\r\n    components: {\r\n      FunctionBar,\r\n      IconTypeList,\r\n    },\r\n    methods: {\r\n    },\r\n    async created() {\r\n        this.$store.commit(\"updateCurrentParentId\", 0);\r\n        this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\r\n        this.$axios({\r\n          url: \"/user/file/list\",\r\n          method: \"post\",\r\n          data: {\r\n            id: this.$store.state.currentParentId,\r\n          }\r\n        }).then((res) => {\r\n          console.log(res.data);\r\n          if (res.data.success) {\r\n            this.listData = res.data.files_list;\r\n            this.searchFolder = res.data.folder_list;\r\n          } else {\r\n            this.$message.error(\"文件请求失败\");\r\n          }\r\n        });\r\n    },\r\n    watch: {},\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .Files {\r\n    width: 100%;\r\n  }\r\n  </style>\r\n  "]},"metadata":{},"sourceType":"module"}