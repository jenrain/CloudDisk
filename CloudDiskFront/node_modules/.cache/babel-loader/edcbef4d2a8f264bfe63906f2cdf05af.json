{"ast":null,"code":"const ChainedMap = require('./ChainedMap');\n\nconst ChainedSet = require('./ChainedSet');\n\nconst Plugin = require('./Plugin');\n\nmodule.exports = class extends ChainedMap {\n  constructor(parent) {\n    super(parent);\n    this.alias = new ChainedMap(this);\n    this.aliasFields = new ChainedSet(this);\n    this.descriptionFiles = new ChainedSet(this);\n    this.extensions = new ChainedSet(this);\n    this.mainFields = new ChainedSet(this);\n    this.mainFiles = new ChainedSet(this);\n    this.modules = new ChainedSet(this);\n    this.plugins = new ChainedMap(this);\n    this.extend(['cachePredicate', 'cacheWithContext', 'concord', 'enforceExtension', 'enforceModuleExtension', 'symlinks', 'unsafeCache']);\n  }\n\n  plugin(name) {\n    return this.plugins.getOrCompute(name, () => new Plugin(this, name, 'resolve.plugin'));\n  }\n\n  toConfig() {\n    return this.clean(Object.assign(this.entries() || {}, {\n      alias: this.alias.entries(),\n      aliasFields: this.aliasFields.values(),\n      descriptionFiles: this.descriptionFiles.values(),\n      extensions: this.extensions.values(),\n      mainFields: this.mainFields.values(),\n      mainFiles: this.mainFiles.values(),\n      modules: this.modules.values(),\n      plugins: this.plugins.values().map(plugin => plugin.toConfig())\n    }));\n  }\n\n  merge(obj, omit = []) {\n    const omissions = ['alias', 'aliasFields', 'descriptionFiles', 'extensions', 'mainFields', 'mainFiles', 'modules'];\n\n    if (!omit.includes('plugin') && 'plugin' in obj) {\n      Object.keys(obj.plugin).forEach(name => this.plugin(name).merge(obj.plugin[name]));\n    }\n\n    omissions.forEach(key => {\n      if (!omit.includes(key) && key in obj) {\n        this[key].merge(obj[key]);\n      }\n    });\n    return super.merge(obj, [...omit, ...omissions, 'plugin']);\n  }\n\n};","map":{"version":3,"names":["ChainedMap","require","ChainedSet","Plugin","module","exports","constructor","parent","alias","aliasFields","descriptionFiles","extensions","mainFields","mainFiles","modules","plugins","extend","plugin","name","getOrCompute","toConfig","clean","Object","assign","entries","values","map","merge","obj","omit","omissions","includes","keys","forEach","key"],"sources":["D:/Desktop/cloud-disk-front/node_modules/webpack-chain/src/Resolve.js"],"sourcesContent":["const ChainedMap = require('./ChainedMap');\nconst ChainedSet = require('./ChainedSet');\nconst Plugin = require('./Plugin');\n\nmodule.exports = class extends ChainedMap {\n  constructor(parent) {\n    super(parent);\n    this.alias = new ChainedMap(this);\n    this.aliasFields = new ChainedSet(this);\n    this.descriptionFiles = new ChainedSet(this);\n    this.extensions = new ChainedSet(this);\n    this.mainFields = new ChainedSet(this);\n    this.mainFiles = new ChainedSet(this);\n    this.modules = new ChainedSet(this);\n    this.plugins = new ChainedMap(this);\n    this.extend([\n      'cachePredicate',\n      'cacheWithContext',\n      'concord',\n      'enforceExtension',\n      'enforceModuleExtension',\n      'symlinks',\n      'unsafeCache',\n    ]);\n  }\n\n  plugin(name) {\n    return this.plugins.getOrCompute(\n      name,\n      () => new Plugin(this, name, 'resolve.plugin'),\n    );\n  }\n\n  toConfig() {\n    return this.clean(\n      Object.assign(this.entries() || {}, {\n        alias: this.alias.entries(),\n        aliasFields: this.aliasFields.values(),\n        descriptionFiles: this.descriptionFiles.values(),\n        extensions: this.extensions.values(),\n        mainFields: this.mainFields.values(),\n        mainFiles: this.mainFiles.values(),\n        modules: this.modules.values(),\n        plugins: this.plugins.values().map((plugin) => plugin.toConfig()),\n      }),\n    );\n  }\n\n  merge(obj, omit = []) {\n    const omissions = [\n      'alias',\n      'aliasFields',\n      'descriptionFiles',\n      'extensions',\n      'mainFields',\n      'mainFiles',\n      'modules',\n    ];\n\n    if (!omit.includes('plugin') && 'plugin' in obj) {\n      Object.keys(obj.plugin).forEach((name) =>\n        this.plugin(name).merge(obj.plugin[name]),\n      );\n    }\n\n    omissions.forEach((key) => {\n      if (!omit.includes(key) && key in obj) {\n        this[key].merge(obj[key]);\n      }\n    });\n\n    return super.merge(obj, [...omit, ...omissions, 'plugin']);\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}