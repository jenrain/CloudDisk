{"ast":null,"code":"let obj;\nexport default {\n  name: \"GoTop\",\n  props: {\n    // 滚动对象的选择器\n    scrollObj: {\n      type: String,\n\n      default() {\n        return \"\";\n      }\n\n    }\n  },\n\n  data() {\n    return {\n      // 是否显示改组件\n      isGoTopShow: false,\n      // 是否是第一次加载  第一次加载组件不需要添加hideBtn类\n      isFirstLoad: true\n    };\n  },\n\n  methods: {\n    goTop() {\n      this.el.scrollTo({\n        behavior: \"smooth\",\n        top: 0\n      });\n    }\n\n  },\n\n  mounted() {\n    if (this.scrollObj == \"\") {\n      obj = document;\n      this.el = document.documentElement;\n    } else {\n      obj = document.querySelector(this.scrollObj);\n      this.el = obj;\n    }\n\n    obj.onscroll = e => {\n      // console.log(e);\n      // console.log(obj.scrollTop);\n      if (this.el.scrollTop >= 500 && this.isGoTopShow == false) {\n        this.isGoTopShow = true;\n        this.isFirstLoad ? this.isFirstLoad = false : \"\";\n      } else if (this.el.scrollTop < 500 && this.isGoTopShow) {\n        this.isGoTopShow = false;\n      }\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAYA;AAEA;EACAA,aADA;EAEAC;IACA;IACAC;MACAC,YADA;;MAEAC;QACA;MACA;;IAJA;EAFA,CAFA;;EAWAC;IACA;MACA;MACAC,kBAFA;MAGA;MACAC;IAJA;EAMA,CAlBA;;EAmBAC;IACAC;MACA;QACAC,kBADA;QAEAC;MAFA;IAIA;;EANA,CAnBA;;EA2BAC;IACA;MACAC;MACA;IACA,CAHA,MAGA;MACAA;MACA;IACA;;IAEAA;MACA;MACA;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;MACA;IACA,CATA;EAUA;;AA9CA","names":["name","props","scrollObj","type","default","data","isGoTopShow","isFirstLoad","methods","goTop","behavior","top","mounted","obj"],"sourceRoot":"src/components","sources":["GoTop.vue"],"sourcesContent":["<template>\r\n  <!-- 使用注意：滚动的盒子必须有个固定的高度，且设有 overflow-y:scroll; 否则会出现scrollTop=0的情况 -->\r\n  <div\r\n    class=\"GoTop\"\r\n    :class=\"isGoTopShow ? 'showBtn' : isFirstLoad ? '' : 'hideBtn'\"\r\n    @click=\"goTop\"\r\n  >\r\n    <i class=\"iconfont icon-fanhuidingbu\"></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet obj;\r\n\r\nexport default {\r\n  name: \"GoTop\",\r\n  props: {\r\n    // 滚动对象的选择器\r\n    scrollObj: {\r\n      type: String,\r\n      default() {\r\n        return \"\";\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // 是否显示改组件\r\n      isGoTopShow: false,\r\n      // 是否是第一次加载  第一次加载组件不需要添加hideBtn类\r\n      isFirstLoad: true,\r\n    };\r\n  },\r\n  methods: {\r\n    goTop() {\r\n      this.el.scrollTo({\r\n        behavior: \"smooth\",\r\n        top: 0,\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.scrollObj == \"\") {\r\n      obj = document;\r\n      this.el = document.documentElement;\r\n    } else {\r\n      obj = document.querySelector(this.scrollObj);\r\n      this.el = obj;\r\n    }\r\n\r\n    obj.onscroll = (e) => {\r\n      // console.log(e);\r\n      // console.log(obj.scrollTop);\r\n      if (this.el.scrollTop >= 500 && this.isGoTopShow == false) {\r\n        this.isGoTopShow = true;\r\n        this.isFirstLoad ? (this.isFirstLoad = false) : \"\";\r\n      } else if (this.el.scrollTop < 500 && this.isGoTopShow) {\r\n        this.isGoTopShow = false;\r\n      }\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.GoTop {\r\n  position: fixed;\r\n  background-color: #fafafa;\r\n  border-radius: 50%;\r\n  height: 40px;\r\n  width: 40px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.1);\r\n  z-index: 10000;\r\n  cursor: pointer;\r\n  bottom: -50px;\r\n  right: 50px;\r\n}\r\n\r\n.showBtn {\r\n  animation: showBtn 0.7s ease;\r\n  animation-fill-mode: forwards;\r\n}\r\n\r\n.hideBtn {\r\n  animation: hideBtn 0.3s ease-in;\r\n  animation-fill-mode: forwards;\r\n}\r\n\r\n.GoTop i {\r\n  font-size: 18px;\r\n  color: rgb(126, 126, 126);\r\n}\r\n\r\n.GoTop:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n@keyframes showBtn {\r\n  0% {\r\n    bottom: -40px;\r\n  }\r\n  50% {\r\n    bottom: 80px;\r\n  }\r\n  100% {\r\n    bottom: 55px;\r\n  }\r\n}\r\n\r\n@keyframes hideBtn {\r\n  from {\r\n    bottom: 55px;\r\n  }\r\n  to {\r\n    bottom: -50px;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}