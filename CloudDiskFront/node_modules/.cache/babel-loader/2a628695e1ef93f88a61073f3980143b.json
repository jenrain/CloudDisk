{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nlet isClickSelectAll = true;\nimport { getTypeIcon } from \"../plugins/utils.js\";\nimport ImagePlayer from \"./ImagePlayer.vue\";\nimport RightClickMenu from \"./RightClickMenu.vue\";\nimport FolderDialog from \"./FolderDialog.vue\";\nimport GoTop from \"./GoTop.vue\";\nimport ShareDialog from \"./ShareDialog.vue\";\nimport MusicPlayer from \"./MusicPlayer.vue\";\nimport VideoPlayer from \"./VideoPlayer.vue\";\nimport App from \"@/App.vue\";\nimport Attribute from \"./Attribute.vue\";\nexport default {\n  components: {\n    ImagePlayer,\n    RightClickMenu,\n    FolderDialog,\n    GoTop,\n    ShareDialog,\n    MusicPlayer,\n    VideoPlayer,\n    App,\n    Attribute\n  },\n  name: \"IconTypeList\",\n\n  data() {\n    return {\n      selectFiles: [],\n      isMenuShow: false,\n      menuTop: 0,\n      menuLeft: 0,\n      cardoffsetTop: 0,\n      cardoffsetLeft: 0,\n      // 重命名输入框\n      renameInput: \"\",\n      // 是否显示重命名输入框\n      isRenameShow: false,\n      // 右击的item\n      rightClickItem: {},\n      // 新建文件夹名称\n      createdName: \"\",\n      isCreateFolderShow: false,\n      // 是否显示图片diaload\n      isImgDialogShow: false,\n      //   当前要打开diaload的图片\n      currentImg: {},\n      // 当前目录的子目录\n      currentChildrenFolder: [],\n      //   是否显示文件右键菜单\n      isFolderMenuShow: false,\n      // 下载的文件信息\n      downloadFileInfo: {\n        url: \"\",\n        name: \"\"\n      },\n      // 视频列表\n      videoList: [],\n      // 是否显示属性框\n      isAttributeShow: false,\n      // 页面可见区域宽\n      pageWidth: document.body.clientWidth,\n      // 页面可见区域高\n      pageHeight: document.body.clientHeight,\n      // 属性dialog的位置\n      attributeTop: 0,\n      attributeLeft: 0,\n      // 是否禁止页面滚动\n      banScroll: false,\n      // 是否显示文件选择框\n      isFolderDialogShow: false,\n      // 当前文件是否已收藏\n      isCurrentFileCollected: false,\n      // 文件移动类型  'mult'和'current'\n      moveType: \"current\",\n      // 右键选中的文件夹item\n      rightClickFolderItem: {},\n      // 当前文件夹的id\n      currentFolderId: 0,\n      // 是否显示文件夹重命名输入框\n      isFolderRenameInputShow: false,\n      // 被拖动的itemList\n      dragItemList: [],\n      // 是否显示dragImgContainer\n      showDragImgContainer: false,\n      // dragImgContainer的位置\n      dragImgContainerPosition: {\n        x: 0,\n        y: 0\n      },\n      // 是否显示分享框\n      isShareDialogShow: false,\n      // 分享的文件\n      shareItem: {}\n    };\n  },\n\n  props: {\n    // type name\n    listData: {\n      type: Array,\n\n      default() {\n        return [];\n      }\n\n    },\n    // 右键菜单类型\n    rightClickMenuType: {\n      type: String,\n\n      default() {\n        return \"files\";\n      }\n\n    },\n    // item展示方式\n    showType: {\n      type: String,\n\n      default() {\n        return \"icon\";\n      }\n\n    },\n    searchFolder: {\n      type: Array,\n\n      default() {\n        return [];\n      }\n\n    }\n  },\n  methods: {\n    // 单击item的回调\n    selectCurrentItem(item) {\n      // 操作dom  直接操作dom可以减少循环，提高性能\n      // let listItem = document.querySelectorAll(\".listItem\");\n      // 先判断该选项是否已经被选中\n      let i = this.selectFiles.findIndex(item1 => item1.id == item.id);\n\n      if (i == -1) {\n        this.selectFiles.push(item);\n      } else {\n        this.selectFiles.splice(i, 1);\n      }\n    },\n\n    // 右键单击item的事件\n    showMenu(e, item, type) {\n      // 如果属性框打开，则先关闭属性框\n      if (this.isAttributeShow == true) {\n        this.isAttributeShow = false;\n      }\n\n      this.banScroll = true;\n      console.log(e, item); // console.log(this.cardoffsetLeft);\n      // 获取菜单的高度\n\n      let menu = document.querySelector(\".RightClickMenu\");\n      let menuHeight = menu.offsetTop;\n      console.log([menu], menuHeight); // 计算菜单dialog 的位置\n      // files的菜单高度和collect不一样\n\n      if (this.rightClickMenuType == \"files\") {\n        this.menuTop = e.pageY + 250 > this.pageHeight ? this.pageHeight - 250 : e.pageY;\n      } else {\n        this.menuTop = e.pageY + 220 > this.pageHeight ? this.pageHeight - 220 : e.pageY;\n      }\n\n      this.menuLeft = e.pageX + 140 > this.pageWidth ? this.pageWidth - 140 : e.pageX; // 计算属性dialog的位置\n\n      this.attributeTop = e.pageY + 230 > this.pageHeight ? this.pageHeight - 230 : e.pageY;\n      this.attributeLeft = e.pageX + 340 > this.pageWidth ? this.pageWidth - 340 : e.pageX;\n\n      if (!type || type == \"menu\") {\n        // 判断右击文件是否已收藏\n        this.isCurrentFileCollected = item.collection == 1 ? true : false;\n        this.rightClickItem = item; // this.$store.commit(\"updateRightClickItem\", item);\n\n        this.isMenuShow = true;\n        this.isFolderMenuShow = false;\n      } else if (type == \"folderMenu\") {\n        this.isFolderMenuShow = true;\n        this.isMenuShow = false; // this.$store.commit(\"updateRightClickFolderItem\", item);\n\n        this.rightClickFolderItem = item;\n      }\n    },\n\n    // 点击重命名的回调\n    rename(type) {\n      // 获取点击重命名的索引\n      // this.rightClickItem = this.$store.state.rightClickItem;\n      if (!type) {\n        // 文件\n        this.isRenameShow = true;\n        this.renameInput = this.rightClickItem.name;\n      } else if (type == \"folder\") {\n        // 文件夹\n        this.isFolderRenameInputShow = true;\n        this.renameInput = this.rightClickFolderItem.name;\n      } //在input的属性中添加autofocus只能触发一次 这里改用操作DOM\n\n\n      this.$nextTick(() => {\n        if (this.$store.state.showType == \"icon\") {\n          document.querySelector(\".renameInput\").focus();\n        } else if (this.$store.state.showType == \"table\") {\n          document.querySelector(\".tableRenameInput\").focus();\n        }\n      }); //   console.log(this.rightClickIndex, 123456);\n    },\n\n    // 重命名完成后的回调  失去焦点或者回车\n    async renameDone(item, index, type) {\n      console.log(item); // 判断输入内容是否为空\n\n      if (this.renameInput.trim().length == 0) {\n        if (!type) {\n          this.$message.warning(\"文件名不能为空哦!\");\n          this.isRenameShow = false;\n        } else {\n          this.$message.warning(\"文件夹名称不能为空哦!\");\n          this.isFolderRenameInputShow = false;\n        }\n      } // console.log(\"文件类型：\", type);\n\n\n      if (!type) {\n        if (this.rightClickItem.name != this.renameInput.trim()) {\n          this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n          this.$axios({\n            url: \"/user/file/update\",\n            method: \"post\",\n            data: {\n              identity: item.identity,\n              name: this.renameInput.trim()\n            }\n          }).then(res => {\n            console.log(res.data);\n\n            if (res.data.success) {\n              this.listData[index].name = res.data.name;\n              this.$emit(\"update:listData\", this.listData);\n              this.$message.success(\"重命名成功!\");\n            } else {\n              this.$message.error(\"重命名失败,请稍后重试!\");\n            }\n          });\n        }\n\n        this.rightClickItem = {};\n        this.isRenameShow = false;\n      } else {\n        // 文件夹\n        console.log(this.renameInput);\n\n        if (this.rightClickFolderItem.name != this.renameInput.trim()) {\n          this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n          this.$axios({\n            url: \"/user/file/update\",\n            method: \"post\",\n            data: {\n              identity: item.identity,\n              name: this.renameInput.trim()\n            }\n          }).then(res => {\n            if (res.data.success) {\n              this.searchFolder[index].name = res.data.name;\n              this.$emit(\"update:searchFolder\", this.searchFolder);\n              console.log(\"修改后的值：\", this.renameInput.trim());\n              this.$message.success(\"重命名成功!\");\n            } else {\n              this.$message.error(\"重命名失败,请稍后重试!\");\n            }\n          });\n        }\n\n        this.rightClickFolderItem = {};\n        this.isFolderRenameInputShow = false;\n      } // this.$store.commit(\"updateRightClickItem\", {});\n      // 清空renameInput\n\n\n      this.renameInput = \"\"; // }\n    },\n\n    // 新建文件夹命名完成的回调\n    createNameDone() {\n      // 避免 enter和 blur冲突调用两次此函数\n      this.$nextTick(async () => {\n        let input;\n\n        if (this.$store.state.showType == \"icon\") {\n          input = document.querySelector(\".createNameInput\");\n        } else if (this.$store.state.showType == \"table\") {\n          input = document.querySelector(\".tableCreateInput\");\n        }\n\n        if (input) {\n          if (this.createdName == \"\") {\n            this.$message.warning(\"文件夹名称不能为空哦!\");\n            this.$store.commit(\"updateIsCreateFolder\", false);\n          } else {\n            this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n            this.$axios({\n              url: \"/user/folder/create\",\n              method: \"post\",\n              data: {\n                parent_id: this.$store.state.currentParentId,\n                name: this.createdName.trim()\n              }\n            }).then(res => {\n              console.log(res.data);\n\n              if (res.data.success) {\n                this.$store.commit(\"updateIsCreateFolder\", false);\n                this.isCreateFolderShow = false;\n                this.$message.success(\"创建成功!\");\n                this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n                this.$axios({\n                  url: \"/user/file/list\",\n                  method: \"post\",\n                  data: {\n                    id: this.$store.state.currentParentId\n                  }\n                }).then(res => {\n                  console.log(res.data);\n\n                  if (res.data.success) {\n                    this.$emit(\"update:searchFolder\", res.data.folder_list);\n                  } else {\n                    this.$message.error(res.data.msg);\n                  }\n                });\n              } else {\n                this.$message.error(res.data.msg);\n                this.$store.commit(\"updateIsCreateFolder\", false);\n                this.isCreateFolderShow = false;\n                this.$message.success(\"创建失败!\");\n              }\n            });\n            this.createdName = \"\";\n          }\n        }\n      });\n    },\n\n    // 双击打开文件\n    openCurrentFile(item) {\n      // 先判断打开的文件类型\n      console.log(\"isVideoPlayerShow: \", this.$store.state.isVideoPlayerShow);\n      let filetype = item.filetype;\n      console.log(\"filetype: \", filetype);\n      console.log(\"item: \", item); // 打开的是video文件\n\n      if (filetype == \"video\") {\n        this.$store.commit(\"updateIsVideoPlayerShow\", true);\n        this.$store.commit(\"updateCurrentVideoInfo\", item);\n      } // 打开的是音频文件\n      else if (filetype == \"audio\") {\n        this.$store.commit(\"updateIsMusicPlayerShow\", true);\n        this.$store.commit(\"updateCurrentMusicInfo\", item);\n      } // 打开的是图片文件\n      else if (filetype == \"image\") {\n        this.currentImg = item;\n        this.isImgDialogShow = true;\n      } // 其它文件暂时无法直接打开 提醒暂时无法直接打开，可以下载后打开\n      else {\n        this.$message.warning(\"该文件暂时不能直接打开哦,可以下载后在本地打开!\");\n      }\n    },\n\n    // 删除文件\n    async deleteCurrentFile(type, item) {\n      let res;\n      let arr = [];\n\n      if (type == \"current\") {\n        arr.push(item.id);\n      } else if (type == \"mult\") {\n        this.selectFiles.forEach(item => {\n          arr.push(item.id);\n        });\n      }\n\n      console.log(\"identity: \", item.identity);\n      this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n      this.$axios({\n        url: \"/user/file/delete\",\n        method: \"delete\",\n        data: {\n          identity: item.identity\n        }\n      }).then(res => {\n        console.log(res.data);\n\n        if (res.data.success) {\n          let index = this.listData.findIndex(item => item.id == this.rightClickItem.id);\n          this.listData.splice(index, 1);\n          this.$message.success(\"删除成功!\");\n        } else {\n          this.$message.error(\"删除失败,请稍后重试!\");\n        }\n      });\n    },\n\n    // 打开当前双击的文件夹\n    openCurrentFolder(item) {\n      this.$store.commit(\"updateLastParentId\", this.$store.state.currentParentId);\n      this.$store.commit(\"updateCurrentParentId\", item.id);\n      this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n      this.$axios({\n        url: \"/user/file/list\",\n        method: \"post\",\n        data: {\n          id: this.$store.state.currentParentId\n        }\n      }).then(res => {\n        console.log(res.data);\n\n        if (res.data.success) {\n          // this.listData = res.data.files_list\n          // this.searchFolder = res.data.folder_list\n          this.$emit(\"update:listData\", res.data.files_list);\n          this.$emit(\"update:searchFolder\", res.data.folder_list);\n        } else {\n          this.$message.error(\"文件请求失败\");\n        }\n      });\n    },\n\n    // 点击下载文件的回调\n    downloadCurrentFile(type, item) {\n      // let url;\n      // // 循环的数组，里面的item是索引\n      // let arr = [];\n      // if (type == \"current\") {\n      //   arr.push(item);\n      // } else if (type == \"mult\") {\n      //   arr = this.selectFiles;\n      // }\n      // arr.forEach((i) => {\n      //   // 循环执行的速度太快，watch来不及监听 这里通过定时器放到异步执行\n      //   setTimeout(async () => {\n      //     if (i.filetype == \"video\" || i.filetype == \"audio\") {\n      //       console.log(\"i: \", i);\n      //       // 请求url\n      //       let res = await this.$request(\n      //         \"/eduoss/fileoss/getPlayAuth?isList=\" + i.videoId,\n      //         \"\",\n      //         \"post\"\n      //       );\n      //       console.log(res);\n      //       url = res.data.data.urlList[0].url;\n      //     } else {\n      //       url = \"/downloadfile/\" + i.url.split(\"com/\")[1];\n      //     }\n      //     this.$store.commit(\"updateCurrentDownloadFileInfo\", {\n      //       name: i.name + \".\" + i.type,\n      //       url,\n      //     });\n      //   });\n      // });\n      // window.location.href = item.path;\n      this.$axios.get(item.path, {\n        responseType: \"blob\"\n      }).then(res => {\n        let blob = res.data;\n        let url = URL.createObjectURL(blob); // download(url);\n\n        console.log(url);\n        let a = document.querySelector(\"#downloadCurrentFile\");\n        this.downloadFileInfo.name = \"你好\";\n        this.downloadFileInfo.url = url; // console.log(a);\n        //   console.log(this.downloadFileInfo.url.split(\"com\")[1]);\n\n        this.$nextTick(() => {\n          a.click(); // 用完释放URL对象\n\n          URL.revokeObjectURL(url);\n        });\n      });\n    },\n\n    // 移动文件\n    async confirmMove(selectFolderId, currentFileId, list) {\n      // 把parentid传过来\n      console.log(\"selectFolderId: \", selectFolderId);\n      console.log(\"currentFileId: \", currentFileId); // 先判断是否是当前文件夹 是的话直接return\n\n      if (selectFolderId == this.$store.state.currentParentId) {\n        return;\n      }\n\n      this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n      this.$axios({\n        url: \"/user/file/move\",\n        method: \"put\",\n        data: {\n          id: currentFileId,\n          parent_id: selectFolderId\n        }\n      }).then(res => {\n        console.log(res.data);\n\n        if (res.data.success) {\n          this.$message.success(\"移动成功！\");\n          this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n          this.$axios({\n            url: \"/user/file/list\",\n            method: \"post\",\n            data: {\n              id: this.$store.state.currentParentId\n            }\n          }).then(res => {\n            console.log(res.data);\n\n            if (res.data.success) {\n              this.$emit(\"update:listData\", res.data.files_list);\n            } else {\n              this.$message.error(res.data.msg);\n            }\n          });\n        } else {\n          this.$message.error(res.data.msg);\n        }\n      });\n    },\n\n    // 分享当前文件\n    shareCurrentFile(item) {\n      this.shareItem = item;\n      this.isShareDialogShow = true;\n    },\n\n    // 点击移动文件的回调\n    moveFile(type) {\n      this.isFolderDialogShow = true;\n\n      if (!type || type == \"current\") {\n        this.moveType = \"current\";\n      } else {\n        this.moveType = \"mult\";\n      }\n    },\n\n    // 删除当前文件夹\n    async deleteCurrentFolder(item) {\n      this.$axios.defaults.headers.common[\"Authorization\"] = window.localStorage.getItem(\"token\");\n      this.$axios({\n        url: \"/user/file/delete\",\n        method: \"delete\",\n        data: {\n          identity: item.identity\n        }\n      }).then(res => {\n        console.log(res.data);\n\n        if (res.data.success) {\n          let index = this.listData.findIndex(item => item.id == this.rightClickItem.id);\n          this.searchFolder.splice(index, 1);\n          this.$message.success(\"删除成功!\"); // this.$emit(\"getFolderList\");\n        } else {\n          this.$message.error(\"删除失败,请稍后重试!\");\n        }\n      });\n    },\n\n    // 重命名当前文件夹\n    renameCurrentFolder(item) {\n      this.isFolderRenameShow = true;\n    },\n\n    showAttribute() {\n      this.isAttributeShow = true;\n      this.$nextTick(() => {\n        this.$refs.attributeDialog.getFileAttribute();\n      });\n    },\n\n    onDragEndItem() {\n      document.ondragover = null;\n      this.showDragImgContainer = false;\n      let imgContainer = document.querySelector(\".dragImgContainer\");\n      imgContainer.innerHTML = \"\";\n    }\n\n  },\n  computed: {\n    computeType() {\n      return getTypeIcon;\n    }\n\n  },\n  watch: {\n    selectFiles(current) {\n      let listItem = document.querySelectorAll(\".listItem\");\n\n      if (current.length == listItem.length) {\n        this.$store.commit(\"updateIsSelectAll\", true);\n      } else {\n        if (this.$store.state.isSelectAll == true) {\n          isClickSelectAll = false;\n          this.$store.commit(\"updateIsSelectAll\", false);\n        }\n      }\n    },\n\n    // 监听是否正在新建文件夹的状态\n    \"$store.state.isCreateFolder\"(current) {\n      this.isCreateFolderShow = current;\n\n      if (current == true) {\n        if (this.$store.state.showType == \"icon\") {\n          this.$nextTick(() => {\n            document.querySelector(\".createNameInput\").focus();\n          });\n        } else if (this.$store.state.showType == \"table\") {\n          this.$nextTick(() => {\n            document.querySelector(\".tableCreateInput\").focus();\n          });\n        }\n      }\n    },\n\n    // 监听选中文件的变化\n    selectFiles(current) {\n      this.$store.commit(\"updateSelectFiles\", current);\n    },\n\n    // 监听是否正在获取文件夹\n    \"$store.state.isGetingFolder\"(current) {\n      if (current == false) {\n        this.createdName = \"\";\n        this.$store.commit(\"updateIsCreateFolder\", false);\n      }\n    },\n\n    // 监听排序方式\n    \"$store.state.sortType\"(current) {\n      if (current == \"time\") {\n        this.listData.sort((a, b) => {\n          return Date.parse(a.gmtCreate) - Date.parse(b.gmtCreate);\n        });\n      } else if (current == \"size\") {\n        this.listData.sort((a, b) => {\n          return a.size - b.size;\n        });\n      }\n    },\n\n    searchFolder(current) {\n      this.currentChildrenFolder = current;\n    }\n\n  },\n\n  created() {},\n\n  mounted() {\n    // 获取组件的offset\n    let Card = document.querySelector(\".iconTypeListContainer\"); // console.log(Card);\n\n    this.cardoffsetTop = Card.offsetTop;\n    this.cardoffsetLeft = Card.offsetLeft; // 监听页面窗口大小变化\n\n    window.addEventListener(\"resize\", e => {\n      // console.log(e);\n      this.pageWidth = document.body.clientWidth;\n      this.pageHeight = document.body.clientHeight;\n    }); // 监听所有点击事件\n\n    document.onclick = e => {\n      // console.log(e);\n      if (this.isMenuShow == true || this.isFolderMenuShow == true) {\n        this.isMenuShow = false;\n        this.isFolderMenuShow = false;\n        this.banScroll = false;\n      }\n\n      if (this.$store.state.isUserInfoCardMenuShow) {\n        this.$store.commit(\"updateIsUserInfoCardMenuShow\", false);\n      }\n    };\n  }\n\n};","map":{"version":3,"mappings":";AA2UA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC,WADA;IAEAC,cAFA;IAGAC,YAHA;IAIAC,KAJA;IAKAC,WALA;IAMAC,WANA;IAOAC,WAPA;IAQAC,GARA;IASAC;EATA,CADA;EAYAC,oBAZA;;EAaAC;IACA;MACAC,eADA;MAEAC,iBAFA;MAGAC,UAHA;MAIAC,WAJA;MAKAC,gBALA;MAMAC,iBANA;MAOA;MACAC,eARA;MASA;MACAC,mBAVA;MAWA;MACAC,kBAZA;MAaA;MACAC,eAdA;MAeAC,yBAfA;MAgBA;MACAC,sBAjBA;MAkBA;MACAC,cAnBA;MAoBA;MACAC,yBArBA;MAsBA;MACAC,uBAvBA;MAwBA;MACAC;QACAC,OADA;QAEAlB;MAFA,CAzBA;MA6BA;MACAmB,aA9BA;MA+BA;MACAC,sBAhCA;MAiCA;MACAC,oCAlCA;MAmCA;MACAC,sCApCA;MAqCA;MACAC,eAtCA;MAuCAC,gBAvCA;MAwCA;MACAC,gBAzCA;MA0CA;MACAC,yBA3CA;MA4CA;MACAC,6BA7CA;MA8CA;MACAC,mBA/CA;MAgDA;MACAC,wBAjDA;MAkDA;MACAC,kBAnDA;MAoDA;MACAC,8BArDA;MAsDA;MACAC,gBAvDA;MAwDA;MACAC,2BAzDA;MA0DA;MACAC;QACAC,IADA;QAEAC;MAFA,CA3DA;MA+DA;MACAC,wBAhEA;MAiEA;MACAC;IAlEA;EAoEA,CAlFA;;EAmFAC;IACA;IACAC;MACAC,WADA;;MAEAC;QACA;MACA;;IAJA,CAFA;IAQA;IACAC;MACAF,YADA;;MAEAC;QACA;MACA;;IAJA,CATA;IAeA;IACAE;MACAH,YADA;;MAEAC;QACA;MACA;;IAJA,CAhBA;IAsBAG;MACAJ,WADA;;MAEAC;QACA;MACA;;IAJA;EAtBA,CAnFA;EAiHAI;IACA;IACAC;MACA;MACA;MACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAZA;;IAcA;IACAC;MACA;MACA;QACA;MACA;;MACA;MACAC,qBANA,CAOA;MACA;;MACA;MACA;MACAA,gCAXA,CAYA;MACA;;MACA;QACA,eACAC,iEADA;MAEA,CAHA,MAGA;QACA,eACAA,iEADA;MAEA;;MACA,gBACAA,+DADA,CArBA,CAwBA;;MACA,oBACAA,iEADA;MAEA,qBACAA,+DADA;;MAGA;QACA;QACA;QACA,2BAHA,CAIA;;QACA;QACA;MACA,CAPA,MAOA;QACA;QACA,wBAFA,CAGA;;QACA;MACA;IACA,CA1DA;;IA4DA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;MACA,CAJA,MAIA;QACA;QACA;QACA;MACA,CAXA,CAYA;;;MACA;QACA;UACAC;QACA,CAFA,MAEA;UACAA;QACA;MACA,CANA,EAbA,CAoBA;IACA,CAlFA;;IAoFA;IACA;MACAH,kBADA,CAEA;;MACA;QACA;UACA;UACA;QACA,CAHA,MAGA;UACA;UACA;QACA;MACA,CAXA,CAYA;;;MACA;QACA;UACA,uDACAI,oCADA;UAEA;YACAnC,wBADA;YAEAoC,cAFA;YAGArD;cACAsD,uBADA;cAEAvD;YAFA;UAHA,GAOAwD,IAPA,CAOAC;YACAR;;YACA;cACA;cACA;cACA;YACA,CAJA,MAIA;cACA;YACA;UACA,CAhBA;QAiBA;;QACA;QACA;MACA,CAxBA,MAwBA;QACA;QACAA;;QACA;UACA,uDACAI,oCADA;UAEA;YACAnC,wBADA;YAEAoC,cAFA;YAGArD;cACAsD,uBADA;cAEAvD;YAFA;UAHA,GAOAwD,IAPA,CAOAC;YACA;cACA;cACA;cACAR;cACA;YACA,CALA,MAKA;cACA;YACA;UACA,CAhBA;QAiBA;;QACA;QACA;MACA,CA/DA,CAgEA;MACA;;;MACA,sBAlEA,CAmEA;IACA,CAzJA;;IA2JA;IACAS;MACA;MACA;QACA;;QACA;UACAC;QACA,CAFA,MAEA;UACAA;QACA;;QACA;UACA;YACA;YACA;UACA,CAHA,MAGA;YACA,uDACAN,oCADA;YAEA;cACAnC,0BADA;cAEAoC,cAFA;cAGArD;gBACA2D,4CADA;gBAEA5D;cAFA;YAHA,GAOAwD,IAPA,CAOAC;cACAR;;cACA;gBACA;gBACA;gBACA;gBACA,uDACAI,oCADA;gBAEA;kBACAnC,sBADA;kBAEAoC,cAFA;kBAGArD;oBACA4D;kBADA;gBAHA,GAMAL,IANA,CAMAC;kBACAR;;kBACA;oBACA;kBACA,CAFA,MAEA;oBACA;kBACA;gBACA,CAbA;cAcA,CApBA,MAoBA;gBACA;gBACA;gBACA;gBACA;cACA;YACA,CAnCA;YAoCA;UACA;QACA;MACA,CArDA;IAsDA,CApNA;;IAsNA;IACAa;MACA;MACAb;MACA;MACAA;MACAA,4BALA,CAMA;;MACA;QACA;QACA;MACA,CAHA,CAIA;MAJA,KAKA;QACA;QACA;MACA,CAHA,CAIA;MAJA,KAKA;QACA;QACA;MACA,CAHA,CAIA;MAJA,KAKA;QACA;MACA;IACA,CAhPA;;IAkPA;IACA;MACA;MACA;;MACA;QACAc;MACA,CAFA,MAEA;QACA;UACAA;QACA,CAFA;MAGA;;MACAd;MACA,uDACAI,oCADA;MAEA;QACAnC,wBADA;QAEAoC,gBAFA;QAGArD;UACAsD;QADA;MAHA,GAMAC,IANA,CAMAC;QACAR;;QACA;UACA,oCACAe,yCADA;UAGA;UACA;QACA,CANA,MAMA;UACA;QACA;MACA,CAjBA;IAkBA,CAlRA;;IAoRA;IACAC;MACA,mBACA,oBADA,EAEA,iCAFA;MAIA;MACA,uDACAZ,oCADA;MAEA;QACAnC,sBADA;QAEAoC,cAFA;QAGArD;UACA4D;QADA;MAHA,GAMAL,IANA,CAMAC;QACAR;;QACA;UACA;UACA;UACA;UACA;QACA,CALA,MAKA;UACA;QACA;MACA,CAhBA;IAiBA,CA9SA;;IAgTA;IACAiB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QAAAC;MAAA;QACA;QACA,oCAFA,CAGA;;QACAlB;QACA;QACA;QACA,gCAPA,CAQA;QACA;;QACA;UACAmB,UADA,CAEA;;UACAC;QACA,CAJA;MAKA,CAfA;IAgBA,CAjWA;;IAmWA;IACA;MACA;MACApB;MACAA,8CAHA,CAIA;;MACA;QACA;MACA;;MACA,uDACAI,oCADA;MAEA;QACAnC,sBADA;QAEAoC,aAFA;QAGArD;UACA4D,iBADA;UAEAD;QAFA;MAHA,GAOAJ,IAPA,CAOAC;QACAR;;QACA;UACA;UACA,uDACAI,oCADA;UAEA;YACAnC,sBADA;YAEAoC,cAFA;YAGArD;cACA4D;YADA;UAHA,GAMAL,IANA,CAMAC;YACAR;;YACA;cACA;YACA,CAFA,MAEA;cACA;YACA;UACA,CAbA;QAcA,CAlBA,MAkBA;UACA;QACA;MACA,CA9BA;IA+BA,CA7YA;;IA+YA;IACAqB;MACA;MACA;IACA,CAnZA;;IAqZA;IACAC;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CA7ZA;;IA+ZA;IACA;MACA,uDACAlB,oCADA;MAEA;QACAnC,wBADA;QAEAoC,gBAFA;QAGArD;UACAsD;QADA;MAHA,GAMAC,IANA,CAMAC;QACAR;;QACA;UACA,oCACAe,yCADA;UAGA;UACA,+BALA,CAMA;QACA,CAPA,MAOA;UACA;QACA;MACA,CAlBA;IAmBA,CAtbA;;IAwbA;IACAQ;MACA;IACA,CA3bA;;IA4bAC;MACA;MACA;QACA;MACA,CAFA;IAGA,CAjcA;;IAkcAC;MACAtB;MACA;MACA;MACAuB;IACA;;EAvcA,CAjHA;EA0jBAC;IACAC;MACA;IACA;;EAHA,CA1jBA;EA+jBAC;IACA5E;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;UACA6E;UACA;QACA;MACA;IACA,CAXA;;IAaA;IACA;MACA;;MACA;QACA;UACA;YACA3B;UACA,CAFA;QAGA,CAJA,MAIA;UACA;YACAA;UACA,CAFA;QAGA;MACA;IACA,CA3BA;;IA6BA;IACAlD;MACA;IACA,CAhCA;;IAkCA;IACA;MACA;QACA;QACA;MACA;IACA,CAxCA;;IA0CA;IACA;MACA;QACA;UACA;QACA,CAFA;MAGA,CAJA,MAIA;QACA;UACA;QACA,CAFA;MAGA;IACA,CArDA;;IAsDA2C;MACA;IACA;;EAxDA,CA/jBA;;EAynBAmC,YAznBA;;EA0nBAC;IACA;IACA,4DAFA,CAGA;;IACA;IACA,sCALA,CAOA;;IACA5B;MACA;MACA;MACA;IACA,CAJA,EARA,CAcA;;IACAD;MACA;MACA;QACA;QACA;QACA;MACA;;MACA;QACA;MACA;IACA,CAVA;EAWA;;AAppBA","names":["components","ImagePlayer","RightClickMenu","FolderDialog","GoTop","ShareDialog","MusicPlayer","VideoPlayer","App","Attribute","name","data","selectFiles","isMenuShow","menuTop","menuLeft","cardoffsetTop","cardoffsetLeft","renameInput","isRenameShow","rightClickItem","createdName","isCreateFolderShow","isImgDialogShow","currentImg","currentChildrenFolder","isFolderMenuShow","downloadFileInfo","url","videoList","isAttributeShow","pageWidth","pageHeight","attributeTop","attributeLeft","banScroll","isFolderDialogShow","isCurrentFileCollected","moveType","rightClickFolderItem","currentFolderId","isFolderRenameInputShow","dragItemList","showDragImgContainer","dragImgContainerPosition","x","y","isShareDialogShow","shareItem","props","listData","type","default","rightClickMenuType","showType","searchFolder","methods","selectCurrentItem","showMenu","console","e","rename","document","window","method","identity","then","res","createNameDone","input","parent_id","id","openCurrentFile","arr","item","openCurrentFolder","downloadCurrentFile","responseType","a","URL","shareCurrentFile","moveFile","renameCurrentFolder","showAttribute","onDragEndItem","imgContainer","computed","computeType","watch","isClickSelectAll","created","mounted"],"sourceRoot":"src/components","sources":["IconTypeList.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"iconTypeListContainer\"\r\n    :class=\"[\r\n      banScroll ? 'banScroll' : '',\r\n      $store.state.showType == 'icon' ? '' : 'tableTypeListContainer',\r\n    ]\"\r\n  >\r\n    <div class=\"IconTypeList\" v-if=\"$store.state.showType == 'icon'\">\r\n      <!-- 文件夹 -->\r\n      <div\r\n        class=\"listItem folderItem\"\r\n        v-for=\"(item, index) in currentChildrenFolder\"\r\n        @dblclick=\"openCurrentFolder(item)\"\r\n        @contextmenu.prevent=\"showMenu($event, item, 'folderMenu')\"\r\n        @dragstart=\"(e) => e.preventDefault()\"\r\n        @dragover=\"(e) => e.preventDefault()\"\r\n        @drop=\"dropItem(item)\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"imgContainer\">\r\n          <img src=\"../assets/img/folder.png\" alt=\"\" :draggable=\"false\" />\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"renameInput\"\r\n          class=\"renameInput\"\r\n          @blur=\"\r\n            rightClickFolderItem.id\r\n              ? renameDone(rightClickFolderItem, index, 'folder')\r\n              : ''\r\n          \"\r\n          @keyup.enter=\"\r\n            rightClickFolderItem.id\r\n              ? renameDone(rightClickFolderItem, index, 'folder')\r\n              : ''\r\n          \"\r\n          v-if=\"isFolderRenameInputShow && rightClickFolderItem.id == item.id\"\r\n        />\r\n        <div class=\"name\" v-else>\r\n          {{ item.name == null ? \"NoNameFolder\" : item.name }}\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 新建文件夹的模板 -->\r\n      <div class=\"listItem createItem\" v-if=\"isCreateFolderShow\">\r\n        <img src=\"../assets/img/folder.png\" alt=\"\" />\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"createdName\"\r\n          class=\"renameInput createNameInput\"\r\n          @blur=\"createNameDone\"\r\n          @keyup.enter=\"createNameDone\"\r\n        />\r\n      </div>\r\n\r\n      <!-- 文件列表 -->\r\n      <div\r\n        class=\"listItem\"\r\n        :class=\"selectFiles.find((i) => i.id == item.id) ? 'selectFile' : ''\"\r\n        v-for=\"(item, index) in listData\"\r\n        :key=\"item.id\"\r\n        @click=\"selectCurrentItem(item)\"\r\n        @dblclick=\"openCurrentFile(item)\"\r\n        @contextmenu.prevent=\"showMenu($event, item)\"\r\n        :draggable=\"rightClickMenuType == 'files'\"\r\n        @dragend=\"onDragEndItem\"\r\n        slot=\"reference\"\r\n      >\r\n        <div class=\"imgContainer\">\r\n          <img\r\n            src=\"../assets/img/music.png\"\r\n            alt=\"\"\r\n            v-if=\"item.filetype == 'audio'\"\r\n            :draggable=\"false\"\r\n          />\r\n          <img\r\n            :src=\"item.path\"\r\n            alt=\"\"\r\n            v-else-if=\"item.filetype == 'image'\"\r\n            :draggable=\"false\"\r\n          />\r\n\r\n          <!-- 视频文件 -->\r\n          <div class=\"videoContainer\" v-else-if=\"item.ext == '.mp4'\">\r\n            <video :src=\"item.path\" class=\"videoItem\" preload=\"meta\"></video>\r\n            <div class=\"iconContainer\">\r\n              <i class=\"iconfont icon-play_nor\"></i>\r\n            </div>\r\n          </div>\r\n          <img\r\n            :src=\"require(`../assets/img/${computeType(item.filetype)}.png`)\"\r\n            alt=\"\"\r\n            v-else\r\n            :draggable=\"false\"\r\n          />\r\n          <img\r\n            src=\"../assets/img/collect.png\"\r\n            alt=\"\"\r\n            class=\"collectIcon\"\r\n            v-if=\"item.collection\"\r\n            :draggable=\"false\"\r\n          />\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"renameInput\"\r\n          class=\"renameInput\"\r\n          @blur=\"rightClickItem.id ? renameDone(rightClickItem, index) : ''\"\r\n          @keyup.enter=\"\r\n            rightClickItem.id ? renameDone(rightClickItem, index) : ''\r\n          \"\r\n          v-if=\"isRenameShow && rightClickItem.id == item.id\"\r\n        />\r\n        <div class=\"name\" v-else>\r\n          {{ item.name == null ? \"NoNameFile\" : item.name }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"tableTypeList\" v-else>\r\n      <!-- 文件夹 -->\r\n      <div\r\n        class=\"tableListItem\"\r\n        v-for=\"(item, index) in currentChildrenFolder\"\r\n        @dblclick=\"openCurrentFolder(item)\"\r\n        @contextmenu.prevent=\"showMenu($event, item, 'folderMenu')\"\r\n        @dragover=\"(e) => e.preventDefault()\"\r\n        @drop=\"dropItem(item)\"\r\n        :key=\"index\"\r\n      >\r\n        <div class=\"tableImgContainer\">\r\n          <img src=\"../assets/img/folder.png\" alt=\"\" :draggable=\"false\" />\r\n        </div>\r\n        <div class=\"tableName\">\r\n          {{\r\n            item.name == null\r\n              ? \"NoNameFolder\"\r\n              : item.name.substr(0, item.name.length - 1)\r\n          }}\r\n        </div>\r\n        <div class=\"tableCollect\">-</div>\r\n        <div class=\"tableItemSize\">-</div>\r\n        <div class=\"tableItemCreateTime\">-</div>\r\n      </div>\r\n\r\n      <!-- 新建文件夹的模板 -->\r\n      <div class=\"tableListItem\" v-if=\"isCreateFolderShow\">\r\n        <img src=\"../assets/img/folder.png\" alt=\"\" />\r\n        <div class=\"tableCreateInputContainer\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"createdName\"\r\n            class=\"tableCreateInput\"\r\n            @blur=\"createNameDone\"\r\n            @keyup.enter=\"createNameDone\"\r\n          />currentFolder\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 文件列表 -->\r\n      <div\r\n        class=\"tableListItem\"\r\n        :class=\"selectFiles.find((i) => i.id == item.id) ? 'selectFile' : ''\"\r\n        v-for=\"(item, index) in listData\"\r\n        :key=\"item.id\"\r\n        @click=\"selectCurrentItem(item)\"\r\n        @dblclick=\"openCurrentFile(item)\"\r\n        @contextmenu.prevent=\"showMenu($event, item)\"\r\n        :draggable=\"rightClickMenuType == 'files'\"\r\n        @dragend=\"onDragEndItem\"\r\n        slot=\"reference\"\r\n      >\r\n        <div class=\"tableImgContainer\">\r\n          <img\r\n            src=\"../assets/img/music.png\"\r\n            alt=\"\"\r\n            v-if=\"item.filetype == 'audio'\"\r\n            :draggable=\"false\"\r\n          />\r\n          <el-image\r\n            :src=\"item.url\"\r\n            alt=\"\"\r\n            v-else-if=\"item.filetype == 'image'\"\r\n            :draggable=\"false\"\r\n            fit=\"cover\"\r\n          />\r\n\r\n          <div class=\"tableVideoContainer\" v-else-if=\"item.ext == '.mp4'\">\r\n            <video\r\n              :src=\"item.path\"\r\n              class=\"tableVideoItem\"\r\n              preload=\"meta\"\r\n            ></video>\r\n          </div>\r\n          <img\r\n            :src=\"require(`../assets/img/${computeType(item.type)}.png`)\"\r\n            alt=\"\"\r\n            v-else\r\n            :draggable=\"false\"\r\n          />\r\n        </div>\r\n        <div\r\n          class=\"tableRenameInputContainer\"\r\n          v-if=\"isRenameShow && rightClickItem.id == item.id\"\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"renameInput\"\r\n            class=\"tableRenameInput\"\r\n            @blur=\"rightClickItem.id ? renameDone(rightClickItem, index) : ''\"\r\n            @keyup.enter=\"\r\n              rightClickItem.id ? renameDone(rightClickItem, index) : ''\r\n            \"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"tableName\" v-else>\r\n          {{ item.name == null ? \"NoNameFile\" : item.name + \".\" + item.type }}\r\n        </div>\r\n        <div class=\"tableCollect\">\r\n          <img src=\"../assets/img/collect.png\" alt=\"\" v-if=\"item.collection\" />\r\n        </div>\r\n        <div class=\"tableItemSize\">\r\n          {{\r\n            item.size == null\r\n              ? \"未知大小\"\r\n              : (item.size / 1048576).toFixed(2) + \" MB\"\r\n          }}\r\n        </div>\r\n        <div class=\"tableItemCreateTime\">\r\n          {{ item.gmtCreate.substr(0, 16) }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 文件右击菜单框组件 -->\r\n    <right-click-menu\r\n      :menuType=\"rightClickMenuType == 'collect' ? 'collect' : 'file'\"\r\n      :isMenuShow=\"isMenuShow\"\r\n      :menuTop=\"menuTop\"\r\n      :menuLeft=\"menuLeft\"\r\n      :isCurrentFileCollected=\"isCurrentFileCollected\"\r\n      @rename=\"rename\"\r\n      @openCurrentFile=\"openCurrentFile(rightClickItem)\"\r\n      @downloadCurrentFile=\"downloadCurrentFile('current', rightClickItem)\"\r\n      @deleteCurrentFile=\"deleteCurrentFile('current', rightClickItem)\"\r\n      @shareCurrentFile=\"shareCurrentFile(rightClickItem)\"\r\n      @showAttribute=\"showAttribute\"\r\n      @moveFile=\"moveFile\"\r\n    ></right-click-menu>\r\n\r\n    <!-- 文件夹右击菜单框组件 -->\r\n    <right-click-menu\r\n      :menuType=\"'folder'\"\r\n      :isFolderMenuShow=\"isFolderMenuShow\"\r\n      :menuTop=\"menuTop\"\r\n      :menuLeft=\"menuLeft\"\r\n      @openCurrentFolder=\"openCurrentFolder(rightClickFolderItem)\"\r\n      @renameCurrentFolder=\"rename('folder')\"\r\n      @deleteCurrentFolder=\"deleteCurrentFolder(rightClickFolderItem)\"\r\n    ></right-click-menu>\r\n\r\n    <!-- 图片预览组件 -->\r\n    <image-player\r\n      :currentImg=\"currentImg\"\r\n      :isImgDialogShow=\"isImgDialogShow\"\r\n      @closeDialog=\"isImgDialogShow = false\"\r\n      @shareCurrentFile=\"shareCurrentFile\"\r\n    ></image-player>\r\n\r\n    <MusicPlayer> </MusicPlayer>\r\n\r\n    <VideoPlayer> </VideoPlayer>\r\n\r\n    <!-- 属性框组件 -->\r\n    <Attribute\r\n      :isAttributeShow=\"isAttributeShow\"\r\n      :fileId=\"rightClickItem.id\"\r\n      :attributeTop=\"attributeTop\"\r\n      :attributeLeft=\"attributeLeft\"\r\n      @closeAttribute=\"isAttributeShow = false\"\r\n      ref=\"attributeDialog\"\r\n    >\r\n    </Attribute>\r\n\r\n    <!-- 移动到中选择文件夹的dialog -->\r\n    <folder-dialog\r\n      :isFolderDialogShow=\"isFolderDialogShow\"\r\n      :moveType=\"moveType\"\r\n      :currentId=\"rightClickItem.id\"\r\n      @confirmMove=\"\r\n        (info) => confirmMove(info.selectFolderId, info.currentFileId)\r\n      \"\r\n      @closeFolderDialog=\"isFolderDialogShow = false\"\r\n    ></folder-dialog>\r\n\r\n    <!-- 搜索为空的提醒 -->\r\n    <div\r\n      class=\"searchTips\"\r\n      v-if=\"\r\n        $route.params.path &&\r\n        $route.params.path.search('search') != -1 &&\r\n        searchFolder.length == 0 &&\r\n        this.listData.length == 0\r\n      \"\r\n    >\r\n      没有找到相应内容哦!\r\n    </div>\r\n    <!-- 返回顶部按钮 -->\r\n    <go-top scrollObj=\".iconTypeListContainer\"></go-top>\r\n    <!-- 拖动时的预览容器 -->\r\n    <div\r\n      class=\"dragImgContainer\"\r\n      :class=\"showDragImgContainer ? 'showDragImgContainer' : ''\"\r\n      :style=\"[\r\n        { top: dragImgContainerPosition.y + 'px' },\r\n        { left: dragImgContainerPosition.x + 'px' },\r\n      ]\"\r\n    ></div>\r\n\r\n    <!-- 分享框 -->\r\n    <share-dialog\r\n      :isShareDialogShow=\"isShareDialogShow\"\r\n      :shareItem=\"shareItem\"\r\n      @closeDialog=\"isShareDialogShow = false\"\r\n    ></share-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet isClickSelectAll = true;\r\n\r\nimport { getTypeIcon } from \"../plugins/utils.js\";\r\n\r\nimport ImagePlayer from \"./ImagePlayer.vue\";\r\nimport RightClickMenu from \"./RightClickMenu.vue\";\r\nimport FolderDialog from \"./FolderDialog.vue\";\r\nimport GoTop from \"./GoTop.vue\";\r\nimport ShareDialog from \"./ShareDialog.vue\";\r\nimport MusicPlayer from \"./MusicPlayer.vue\";\r\nimport VideoPlayer from \"./VideoPlayer.vue\";\r\nimport App from \"@/App.vue\";\r\nimport Attribute from \"./Attribute.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    ImagePlayer,\r\n    RightClickMenu,\r\n    FolderDialog,\r\n    GoTop,\r\n    ShareDialog,\r\n    MusicPlayer,\r\n    VideoPlayer,\r\n    App,\r\n    Attribute,\r\n  },\r\n  name: \"IconTypeList\",\r\n  data() {\r\n    return {\r\n      selectFiles: [],\r\n      isMenuShow: false,\r\n      menuTop: 0,\r\n      menuLeft: 0,\r\n      cardoffsetTop: 0,\r\n      cardoffsetLeft: 0,\r\n      // 重命名输入框\r\n      renameInput: \"\",\r\n      // 是否显示重命名输入框\r\n      isRenameShow: false,\r\n      // 右击的item\r\n      rightClickItem: {},\r\n      // 新建文件夹名称\r\n      createdName: \"\",\r\n      isCreateFolderShow: false,\r\n      // 是否显示图片diaload\r\n      isImgDialogShow: false,\r\n      //   当前要打开diaload的图片\r\n      currentImg: {},\r\n      // 当前目录的子目录\r\n      currentChildrenFolder: [],\r\n      //   是否显示文件右键菜单\r\n      isFolderMenuShow: false,\r\n      // 下载的文件信息\r\n      downloadFileInfo: {\r\n        url: \"\",\r\n        name: \"\",\r\n      },\r\n      // 视频列表\r\n      videoList: [],\r\n      // 是否显示属性框\r\n      isAttributeShow: false,\r\n      // 页面可见区域宽\r\n      pageWidth: document.body.clientWidth,\r\n      // 页面可见区域高\r\n      pageHeight: document.body.clientHeight,\r\n      // 属性dialog的位置\r\n      attributeTop: 0,\r\n      attributeLeft: 0,\r\n      // 是否禁止页面滚动\r\n      banScroll: false,\r\n      // 是否显示文件选择框\r\n      isFolderDialogShow: false,\r\n      // 当前文件是否已收藏\r\n      isCurrentFileCollected: false,\r\n      // 文件移动类型  'mult'和'current'\r\n      moveType: \"current\",\r\n      // 右键选中的文件夹item\r\n      rightClickFolderItem: {},\r\n      // 当前文件夹的id\r\n      currentFolderId: 0,\r\n      // 是否显示文件夹重命名输入框\r\n      isFolderRenameInputShow: false,\r\n      // 被拖动的itemList\r\n      dragItemList: [],\r\n      // 是否显示dragImgContainer\r\n      showDragImgContainer: false,\r\n      // dragImgContainer的位置\r\n      dragImgContainerPosition: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      // 是否显示分享框\r\n      isShareDialogShow: false,\r\n      // 分享的文件\r\n      shareItem: {},\r\n    };\r\n  },\r\n  props: {\r\n    // type name\r\n    listData: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    // 右键菜单类型\r\n    rightClickMenuType: {\r\n      type: String,\r\n      default() {\r\n        return \"files\";\r\n      },\r\n    },\r\n    // item展示方式\r\n    showType: {\r\n      type: String,\r\n      default() {\r\n        return \"icon\";\r\n      },\r\n    },\r\n    searchFolder: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 单击item的回调\r\n    selectCurrentItem(item) {\r\n      // 操作dom  直接操作dom可以减少循环，提高性能\r\n      // let listItem = document.querySelectorAll(\".listItem\");\r\n      // 先判断该选项是否已经被选中\r\n      let i = this.selectFiles.findIndex((item1) => item1.id == item.id);\r\n      if (i == -1) {\r\n        this.selectFiles.push(item);\r\n      } else {\r\n        this.selectFiles.splice(i, 1);\r\n      }\r\n    },\r\n\r\n    // 右键单击item的事件\r\n    showMenu(e, item, type) {\r\n      // 如果属性框打开，则先关闭属性框\r\n      if (this.isAttributeShow == true) {\r\n        this.isAttributeShow = false;\r\n      }\r\n      this.banScroll = true;\r\n      console.log(e, item);\r\n      // console.log(this.cardoffsetLeft);\r\n      // 获取菜单的高度\r\n      let menu = document.querySelector(\".RightClickMenu\");\r\n      let menuHeight = menu.offsetTop;\r\n      console.log([menu], menuHeight);\r\n      // 计算菜单dialog 的位置\r\n      // files的菜单高度和collect不一样\r\n      if (this.rightClickMenuType == \"files\") {\r\n        this.menuTop =\r\n          e.pageY + 250 > this.pageHeight ? this.pageHeight - 250 : e.pageY;\r\n      } else {\r\n        this.menuTop =\r\n          e.pageY + 220 > this.pageHeight ? this.pageHeight - 220 : e.pageY;\r\n      }\r\n      this.menuLeft =\r\n        e.pageX + 140 > this.pageWidth ? this.pageWidth - 140 : e.pageX;\r\n\r\n      // 计算属性dialog的位置\r\n      this.attributeTop =\r\n        e.pageY + 230 > this.pageHeight ? this.pageHeight - 230 : e.pageY;\r\n      this.attributeLeft =\r\n        e.pageX + 340 > this.pageWidth ? this.pageWidth - 340 : e.pageX;\r\n\r\n      if (!type || type == \"menu\") {\r\n        // 判断右击文件是否已收藏\r\n        this.isCurrentFileCollected = item.collection == 1 ? true : false;\r\n        this.rightClickItem = item;\r\n        // this.$store.commit(\"updateRightClickItem\", item);\r\n        this.isMenuShow = true;\r\n        this.isFolderMenuShow = false;\r\n      } else if (type == \"folderMenu\") {\r\n        this.isFolderMenuShow = true;\r\n        this.isMenuShow = false;\r\n        // this.$store.commit(\"updateRightClickFolderItem\", item);\r\n        this.rightClickFolderItem = item;\r\n      }\r\n    },\r\n\r\n    // 点击重命名的回调\r\n    rename(type) {\r\n      // 获取点击重命名的索引\r\n      // this.rightClickItem = this.$store.state.rightClickItem;\r\n      if (!type) {\r\n        // 文件\r\n        this.isRenameShow = true;\r\n        this.renameInput = this.rightClickItem.name;\r\n      } else if (type == \"folder\") {\r\n        // 文件夹\r\n        this.isFolderRenameInputShow = true;\r\n        this.renameInput = this.rightClickFolderItem.name;\r\n      }\r\n      //在input的属性中添加autofocus只能触发一次 这里改用操作DOM\r\n      this.$nextTick(() => {\r\n        if (this.$store.state.showType == \"icon\") {\r\n          document.querySelector(\".renameInput\").focus();\r\n        } else if (this.$store.state.showType == \"table\") {\r\n          document.querySelector(\".tableRenameInput\").focus();\r\n        }\r\n      });\r\n      //   console.log(this.rightClickIndex, 123456);\r\n    },\r\n\r\n    // 重命名完成后的回调  失去焦点或者回车\r\n    async renameDone(item, index, type) {\r\n      console.log(item);\r\n      // 判断输入内容是否为空\r\n      if (this.renameInput.trim().length == 0) {\r\n        if (!type) {\r\n          this.$message.warning(\"文件名不能为空哦!\");\r\n          this.isRenameShow = false;\r\n        } else {\r\n          this.$message.warning(\"文件夹名称不能为空哦!\");\r\n          this.isFolderRenameInputShow = false;\r\n        }\r\n      }\r\n      // console.log(\"文件类型：\", type);\r\n      if (!type) {\r\n        if (this.rightClickItem.name != this.renameInput.trim()) {\r\n          this.$axios.defaults.headers.common[\"Authorization\"] =\r\n            window.localStorage.getItem(\"token\");\r\n          this.$axios({\r\n            url: \"/user/file/update\",\r\n            method: \"post\",\r\n            data: {\r\n              identity: item.identity,\r\n              name: this.renameInput.trim(),\r\n            },\r\n          }).then((res) => {\r\n            console.log(res.data);\r\n            if (res.data.success) {\r\n              this.listData[index].name = res.data.name;\r\n              this.$emit(\"update:listData\", this.listData);\r\n              this.$message.success(\"重命名成功!\");\r\n            } else {\r\n              this.$message.error(\"重命名失败,请稍后重试!\");\r\n            }\r\n          });\r\n        }\r\n        this.rightClickItem = {};\r\n        this.isRenameShow = false;\r\n      } else {\r\n        // 文件夹\r\n        console.log(this.renameInput);\r\n        if (this.rightClickFolderItem.name != this.renameInput.trim()) {\r\n          this.$axios.defaults.headers.common[\"Authorization\"] =\r\n            window.localStorage.getItem(\"token\");\r\n          this.$axios({\r\n            url: \"/user/file/update\",\r\n            method: \"post\",\r\n            data: {\r\n              identity: item.identity,\r\n              name: this.renameInput.trim(),\r\n            },\r\n          }).then((res) => {\r\n            if (res.data.success) {\r\n              this.searchFolder[index].name = res.data.name;\r\n              this.$emit(\"update:searchFolder\", this.searchFolder);\r\n              console.log(\"修改后的值：\", this.renameInput.trim());\r\n              this.$message.success(\"重命名成功!\");\r\n            } else {\r\n              this.$message.error(\"重命名失败,请稍后重试!\");\r\n            }\r\n          });\r\n        }\r\n        this.rightClickFolderItem = {};\r\n        this.isFolderRenameInputShow = false;\r\n      }\r\n      // this.$store.commit(\"updateRightClickItem\", {});\r\n      // 清空renameInput\r\n      this.renameInput = \"\";\r\n      // }\r\n    },\r\n\r\n    // 新建文件夹命名完成的回调\r\n    createNameDone() {\r\n      // 避免 enter和 blur冲突调用两次此函数\r\n      this.$nextTick(async () => {\r\n        let input;\r\n        if (this.$store.state.showType == \"icon\") {\r\n          input = document.querySelector(\".createNameInput\");\r\n        } else if (this.$store.state.showType == \"table\") {\r\n          input = document.querySelector(\".tableCreateInput\");\r\n        }\r\n        if (input) {\r\n          if (this.createdName == \"\") {\r\n            this.$message.warning(\"文件夹名称不能为空哦!\");\r\n            this.$store.commit(\"updateIsCreateFolder\", false);\r\n          } else {\r\n            this.$axios.defaults.headers.common[\"Authorization\"] =\r\n              window.localStorage.getItem(\"token\");\r\n            this.$axios({\r\n              url: \"/user/folder/create\",\r\n              method: \"post\",\r\n              data: {\r\n                parent_id: this.$store.state.currentParentId,\r\n                name: this.createdName.trim(),\r\n              },\r\n            }).then((res) => {\r\n              console.log(res.data);\r\n              if (res.data.success) {\r\n                this.$store.commit(\"updateIsCreateFolder\", false);\r\n                this.isCreateFolderShow = false;\r\n                this.$message.success(\"创建成功!\");\r\n                this.$axios.defaults.headers.common[\"Authorization\"] =\r\n                  window.localStorage.getItem(\"token\");\r\n                this.$axios({\r\n                  url: \"/user/file/list\",\r\n                  method: \"post\",\r\n                  data: {\r\n                    id: this.$store.state.currentParentId,\r\n                  },\r\n                }).then((res) => {\r\n                  console.log(res.data);\r\n                  if (res.data.success) {\r\n                    this.$emit(\"update:searchFolder\", res.data.folder_list);\r\n                  } else {\r\n                    this.$message.error(res.data.msg);\r\n                  }\r\n                });\r\n              } else {\r\n                this.$message.error(res.data.msg);\r\n                this.$store.commit(\"updateIsCreateFolder\", false);\r\n                this.isCreateFolderShow = false;\r\n                this.$message.success(\"创建失败!\");\r\n              }\r\n            });\r\n            this.createdName = \"\";\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    // 双击打开文件\r\n    openCurrentFile(item) {\r\n      // 先判断打开的文件类型\r\n      console.log(\"isVideoPlayerShow: \", this.$store.state.isVideoPlayerShow);\r\n      let filetype = item.filetype;\r\n      console.log(\"filetype: \", filetype);\r\n      console.log(\"item: \", item);\r\n      // 打开的是video文件\r\n      if (filetype == \"video\") {\r\n        this.$store.commit(\"updateIsVideoPlayerShow\", true);\r\n        this.$store.commit(\"updateCurrentVideoInfo\", item);\r\n      }\r\n      // 打开的是音频文件\r\n      else if (filetype == \"audio\") {\r\n        this.$store.commit(\"updateIsMusicPlayerShow\", true);\r\n        this.$store.commit(\"updateCurrentMusicInfo\", item);\r\n      }\r\n      // 打开的是图片文件\r\n      else if (filetype == \"image\") {\r\n        this.currentImg = item;\r\n        this.isImgDialogShow = true;\r\n      }\r\n      // 其它文件暂时无法直接打开 提醒暂时无法直接打开，可以下载后打开\r\n      else {\r\n        this.$message.warning(\"该文件暂时不能直接打开哦,可以下载后在本地打开!\");\r\n      }\r\n    },\r\n\r\n    // 删除文件\r\n    async deleteCurrentFile(type, item) {\r\n      let res;\r\n      let arr = [];\r\n      if (type == \"current\") {\r\n        arr.push(item.id);\r\n      } else if (type == \"mult\") {\r\n        this.selectFiles.forEach((item) => {\r\n          arr.push(item.id);\r\n        });\r\n      }\r\n      console.log(\"identity: \", item.identity);\r\n      this.$axios.defaults.headers.common[\"Authorization\"] =\r\n        window.localStorage.getItem(\"token\");\r\n      this.$axios({\r\n        url: \"/user/file/delete\",\r\n        method: \"delete\",\r\n        data: {\r\n          identity: item.identity,\r\n        },\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.success) {\r\n          let index = this.listData.findIndex(\r\n            (item) => item.id == this.rightClickItem.id\r\n          );\r\n          this.listData.splice(index, 1);\r\n          this.$message.success(\"删除成功!\");\r\n        } else {\r\n          this.$message.error(\"删除失败,请稍后重试!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    // 打开当前双击的文件夹\r\n    openCurrentFolder(item) {\r\n      this.$store.commit(\r\n        \"updateLastParentId\",\r\n        this.$store.state.currentParentId\r\n      );\r\n      this.$store.commit(\"updateCurrentParentId\", item.id);\r\n      this.$axios.defaults.headers.common[\"Authorization\"] =\r\n        window.localStorage.getItem(\"token\");\r\n      this.$axios({\r\n        url: \"/user/file/list\",\r\n        method: \"post\",\r\n        data: {\r\n          id: this.$store.state.currentParentId,\r\n        },\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.success) {\r\n          // this.listData = res.data.files_list\r\n          // this.searchFolder = res.data.folder_list\r\n          this.$emit(\"update:listData\", res.data.files_list);\r\n          this.$emit(\"update:searchFolder\", res.data.folder_list);\r\n        } else {\r\n          this.$message.error(\"文件请求失败\");\r\n        }\r\n      });\r\n    },\r\n\r\n    // 点击下载文件的回调\r\n    downloadCurrentFile(type, item) {\r\n      // let url;\r\n      // // 循环的数组，里面的item是索引\r\n      // let arr = [];\r\n      // if (type == \"current\") {\r\n      //   arr.push(item);\r\n      // } else if (type == \"mult\") {\r\n      //   arr = this.selectFiles;\r\n      // }\r\n      // arr.forEach((i) => {\r\n      //   // 循环执行的速度太快，watch来不及监听 这里通过定时器放到异步执行\r\n      //   setTimeout(async () => {\r\n      //     if (i.filetype == \"video\" || i.filetype == \"audio\") {\r\n      //       console.log(\"i: \", i);\r\n      //       // 请求url\r\n      //       let res = await this.$request(\r\n      //         \"/eduoss/fileoss/getPlayAuth?isList=\" + i.videoId,\r\n      //         \"\",\r\n      //         \"post\"\r\n      //       );\r\n      //       console.log(res);\r\n      //       url = res.data.data.urlList[0].url;\r\n      //     } else {\r\n      //       url = \"/downloadfile/\" + i.url.split(\"com/\")[1];\r\n      //     }\r\n      //     this.$store.commit(\"updateCurrentDownloadFileInfo\", {\r\n      //       name: i.name + \".\" + i.type,\r\n      //       url,\r\n      //     });\r\n      //   });\r\n      // });\r\n      // window.location.href = item.path;\r\n      this.$axios.get(item.path, { responseType: \"blob\" }).then((res) => {\r\n        let blob = res.data;\r\n        let url = URL.createObjectURL(blob);\r\n        // download(url);\r\n        console.log(url);\r\n        let a = document.querySelector(\"#downloadCurrentFile\");\r\n        this.downloadFileInfo.name = \"你好\";\r\n        this.downloadFileInfo.url = url;\r\n        // console.log(a);\r\n        //   console.log(this.downloadFileInfo.url.split(\"com\")[1]);\r\n        this.$nextTick(() => {\r\n          a.click();\r\n          // 用完释放URL对象\r\n          URL.revokeObjectURL(url);\r\n        });\r\n      });\r\n    },\r\n\r\n    // 移动文件\r\n    async confirmMove(selectFolderId, currentFileId, list) {\r\n      // 把parentid传过来\r\n      console.log(\"selectFolderId: \", selectFolderId);\r\n      console.log(\"currentFileId: \", currentFileId);\r\n      // 先判断是否是当前文件夹 是的话直接return\r\n      if (selectFolderId == this.$store.state.currentParentId) {\r\n        return;\r\n      }\r\n      this.$axios.defaults.headers.common[\"Authorization\"] =\r\n        window.localStorage.getItem(\"token\");\r\n      this.$axios({\r\n        url: \"/user/file/move\",\r\n        method: \"put\",\r\n        data: {\r\n          id: currentFileId,\r\n          parent_id: selectFolderId,\r\n        },\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.success) {\r\n          this.$message.success(\"移动成功！\");\r\n          this.$axios.defaults.headers.common[\"Authorization\"] =\r\n            window.localStorage.getItem(\"token\");\r\n          this.$axios({\r\n            url: \"/user/file/list\",\r\n            method: \"post\",\r\n            data: {\r\n              id: this.$store.state.currentParentId,\r\n            },\r\n          }).then((res) => {\r\n            console.log(res.data);\r\n            if (res.data.success) {\r\n              this.$emit(\"update:listData\", res.data.files_list);\r\n            } else {\r\n              this.$message.error(res.data.msg);\r\n            }\r\n          });\r\n        } else {\r\n          this.$message.error(res.data.msg);\r\n        }\r\n      });\r\n    },\r\n\r\n    // 分享当前文件\r\n    shareCurrentFile(item) {\r\n      this.shareItem = item;\r\n      this.isShareDialogShow = true;\r\n    },\r\n\r\n    // 点击移动文件的回调\r\n    moveFile(type) {\r\n      this.isFolderDialogShow = true;\r\n      if (!type || type == \"current\") {\r\n        this.moveType = \"current\";\r\n      } else {\r\n        this.moveType = \"mult\";\r\n      }\r\n    },\r\n\r\n    // 删除当前文件夹\r\n    async deleteCurrentFolder(item) {\r\n      this.$axios.defaults.headers.common[\"Authorization\"] =\r\n        window.localStorage.getItem(\"token\");\r\n      this.$axios({\r\n        url: \"/user/file/delete\",\r\n        method: \"delete\",\r\n        data: {\r\n          identity: item.identity,\r\n        },\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.success) {\r\n          let index = this.listData.findIndex(\r\n            (item) => item.id == this.rightClickItem.id\r\n          );\r\n          this.searchFolder.splice(index, 1);\r\n          this.$message.success(\"删除成功!\");\r\n          // this.$emit(\"getFolderList\");\r\n        } else {\r\n          this.$message.error(\"删除失败,请稍后重试!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    // 重命名当前文件夹\r\n    renameCurrentFolder(item) {\r\n      this.isFolderRenameShow = true;\r\n    },\r\n    showAttribute() {\r\n      this.isAttributeShow = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.attributeDialog.getFileAttribute();\r\n      });\r\n    },\r\n    onDragEndItem() {\r\n      document.ondragover = null;\r\n      this.showDragImgContainer = false;\r\n      let imgContainer = document.querySelector(\".dragImgContainer\");\r\n      imgContainer.innerHTML = \"\";\r\n    },\r\n  },\r\n  computed: {\r\n    computeType() {\r\n      return getTypeIcon;\r\n    },\r\n  },\r\n  watch: {\r\n    selectFiles(current) {\r\n      let listItem = document.querySelectorAll(\".listItem\");\r\n      if (current.length == listItem.length) {\r\n        this.$store.commit(\"updateIsSelectAll\", true);\r\n      } else {\r\n        if (this.$store.state.isSelectAll == true) {\r\n          isClickSelectAll = false;\r\n          this.$store.commit(\"updateIsSelectAll\", false);\r\n        }\r\n      }\r\n    },\r\n\r\n    // 监听是否正在新建文件夹的状态\r\n    \"$store.state.isCreateFolder\"(current) {\r\n      this.isCreateFolderShow = current;\r\n      if (current == true) {\r\n        if (this.$store.state.showType == \"icon\") {\r\n          this.$nextTick(() => {\r\n            document.querySelector(\".createNameInput\").focus();\r\n          });\r\n        } else if (this.$store.state.showType == \"table\") {\r\n          this.$nextTick(() => {\r\n            document.querySelector(\".tableCreateInput\").focus();\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    // 监听选中文件的变化\r\n    selectFiles(current) {\r\n      this.$store.commit(\"updateSelectFiles\", current);\r\n    },\r\n\r\n    // 监听是否正在获取文件夹\r\n    \"$store.state.isGetingFolder\"(current) {\r\n      if (current == false) {\r\n        this.createdName = \"\";\r\n        this.$store.commit(\"updateIsCreateFolder\", false);\r\n      }\r\n    },\r\n\r\n    // 监听排序方式\r\n    \"$store.state.sortType\"(current) {\r\n      if (current == \"time\") {\r\n        this.listData.sort((a, b) => {\r\n          return Date.parse(a.gmtCreate) - Date.parse(b.gmtCreate);\r\n        });\r\n      } else if (current == \"size\") {\r\n        this.listData.sort((a, b) => {\r\n          return a.size - b.size;\r\n        });\r\n      }\r\n    },\r\n    searchFolder(current) {\r\n      this.currentChildrenFolder = current;\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    // 获取组件的offset\r\n    let Card = document.querySelector(\".iconTypeListContainer\");\r\n    // console.log(Card);\r\n    this.cardoffsetTop = Card.offsetTop;\r\n    this.cardoffsetLeft = Card.offsetLeft;\r\n\r\n    // 监听页面窗口大小变化\r\n    window.addEventListener(\"resize\", (e) => {\r\n      // console.log(e);\r\n      this.pageWidth = document.body.clientWidth;\r\n      this.pageHeight = document.body.clientHeight;\r\n    });\r\n\r\n    // 监听所有点击事件\r\n    document.onclick = (e) => {\r\n      // console.log(e);\r\n      if (this.isMenuShow == true || this.isFolderMenuShow == true) {\r\n        this.isMenuShow = false;\r\n        this.isFolderMenuShow = false;\r\n        this.banScroll = false;\r\n      }\r\n      if (this.$store.state.isUserInfoCardMenuShow) {\r\n        this.$store.commit(\"updateIsUserInfoCardMenuShow\", false);\r\n      }\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.iconTypeListContainer {\r\n  height: calc(100vh - 100px);\r\n  width: calc(100vw - 240px);\r\n  overflow-y: scroll;\r\n  position: relative;\r\n}\r\n\r\n.tableTypeListContainer {\r\n  height: calc(100vh - 150px);\r\n}\r\n\r\n.banScroll {\r\n  overflow-y: hidden;\r\n}\r\n\r\n.IconTypeList {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  position: relative;\r\n  padding: 10px 20px 0;\r\n}\r\n\r\n.listItem {\r\n  margin: 0 5px 10px;\r\n  padding: 15px 5px 10px;\r\n  text-align: center;\r\n  width: 100px;\r\n  font-size: 14px;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  height: 118px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  /* box-sizing: border-box; */\r\n}\r\n\r\n.collectIcon {\r\n  position: absolute;\r\n  width: 15px;\r\n  height: 15px;\r\n  top: 0px;\r\n  right: 7px;\r\n}\r\n\r\n.folderItem:hover {\r\n  background-color: unset !important;\r\n}\r\n\r\n.name {\r\n  word-break: break-all;\r\n  text-overflow: ellipsis;\r\n  /* overflow: hidden; * 隐藏超出的内容 * */\r\n  white-space: nowrap;\r\n  padding-top: 10px;\r\n  width: 100px;\r\n  height: 18px;\r\n}\r\n\r\n.imgContainer {\r\n  height: 90px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n}\r\n\r\n.listItem img {\r\n  max-height: 90px;\r\n  max-width: 90%;\r\n  user-select: none;\r\n}\r\n\r\n.listItem:hover {\r\n  background-color: rgba(105, 107, 204, 0.2);\r\n}\r\n\r\n.listItem:hover i {\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.selectFile {\r\n  background-color: rgba(105, 107, 204, 0.4) !important;\r\n}\r\n\r\n.renameInput {\r\n  width: 92px;\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.videoContainer {\r\n  height: 90px;\r\n  width: 90px;\r\n  margin-bottom: 2px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #000;\r\n}\r\n\r\n.videoItem {\r\n  height: 90px;\r\n  width: 90px;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n}\r\n\r\n.iconContainer {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.iconContainer i {\r\n  color: #fcfcfc;\r\n  font-size: 32px;\r\n  padding: 5px;\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: all 0.1s;\r\n}\r\n\r\n.tableListItem {\r\n  display: flex;\r\n  /* background-color: pink; */\r\n  width: calc(100vw - 260px);\r\n  height: 55px;\r\n  padding: 6px 25px;\r\n  box-sizing: border-box;\r\n  /* align-items: center; */\r\n  border-bottom: 1px solid #eee;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  color: rgb(66, 66, 66);\r\n}\r\n\r\n.tableListItem > div {\r\n  height: 43px;\r\n  line-height: 43px;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.tableListItem:hover {\r\n  background-color: #e1e1f5;\r\n}\r\n\r\n.tableImgContainer {\r\n  width: 48px;\r\n}\r\n\r\n.tableImgContainer img,\r\n.tableImgContainer .el-image {\r\n  height: 43px;\r\n  width: 43px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.tableVideoContainer {\r\n  height: 43px;\r\n  width: 43px;\r\n  background-color: black;\r\n  border-radius: 5px;\r\n}\r\n\r\n.tableVideoItem {\r\n  height: 43px;\r\n  width: 43px;\r\n}\r\n\r\n.tableName {\r\n  padding-left: 13px;\r\n  line-height: 43px;\r\n  width: 50%;\r\n}\r\n\r\n.tableItemSize {\r\n  width: 20%;\r\n  padding-left: 80px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.tableItemCreateTime {\r\n  padding-left: 60px;\r\n  box-sizing: border-box;\r\n  width: 25%;\r\n}\r\n\r\n.tableCollect {\r\n  width: 10%;\r\n  text-align: center;\r\n}\r\n\r\n.tableCollect img {\r\n  height: 15px;\r\n}\r\n\r\n.tableCreateInput {\r\n  margin-left: 15px;\r\n  height: 23px;\r\n}\r\n\r\n.tableRenameInput {\r\n  height: 23px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.searchTips {\r\n  position: absolute;\r\n  top: 30%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  font-size: 22px;\r\n  color: rgb(63, 63, 63);\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}