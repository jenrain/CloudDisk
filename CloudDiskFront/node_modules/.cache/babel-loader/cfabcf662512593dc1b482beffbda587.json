{"ast":null,"code":"const merge = require('deepmerge');\n\nconst ChainedMap = require('./ChainedMap');\n\nconst Orderable = require('./Orderable');\n\nmodule.exports = Orderable(class extends ChainedMap {\n  constructor(parent, name) {\n    super(parent);\n    this.name = name;\n    this.extend(['loader', 'options']);\n  }\n\n  tap(f) {\n    this.options(f(this.get('options')));\n    return this;\n  }\n\n  merge(obj, omit = []) {\n    if (!omit.includes('loader') && 'loader' in obj) {\n      this.loader(obj.loader);\n    }\n\n    if (!omit.includes('options') && 'options' in obj) {\n      this.options(merge(this.store.get('options') || {}, obj.options));\n    }\n\n    return super.merge(obj, [...omit, 'loader', 'options']);\n  }\n\n  toConfig() {\n    const config = this.clean(this.entries() || {});\n    Object.defineProperties(config, {\n      __useName: {\n        value: this.name\n      },\n      __ruleNames: {\n        value: this.parent && this.parent.names\n      },\n      __ruleTypes: {\n        value: this.parent && this.parent.ruleTypes\n      }\n    });\n    return config;\n  }\n\n});","map":{"version":3,"names":["merge","require","ChainedMap","Orderable","module","exports","constructor","parent","name","extend","tap","f","options","get","obj","omit","includes","loader","store","toConfig","config","clean","entries","Object","defineProperties","__useName","value","__ruleNames","names","__ruleTypes","ruleTypes"],"sources":["D:/Desktop/cloud-disk-front/node_modules/webpack-chain/src/Use.js"],"sourcesContent":["const merge = require('deepmerge');\nconst ChainedMap = require('./ChainedMap');\nconst Orderable = require('./Orderable');\n\nmodule.exports = Orderable(\n  class extends ChainedMap {\n    constructor(parent, name) {\n      super(parent);\n      this.name = name;\n      this.extend(['loader', 'options']);\n    }\n\n    tap(f) {\n      this.options(f(this.get('options')));\n      return this;\n    }\n\n    merge(obj, omit = []) {\n      if (!omit.includes('loader') && 'loader' in obj) {\n        this.loader(obj.loader);\n      }\n\n      if (!omit.includes('options') && 'options' in obj) {\n        this.options(merge(this.store.get('options') || {}, obj.options));\n      }\n\n      return super.merge(obj, [...omit, 'loader', 'options']);\n    }\n\n    toConfig() {\n      const config = this.clean(this.entries() || {});\n\n      Object.defineProperties(config, {\n        __useName: { value: this.name },\n        __ruleNames: { value: this.parent && this.parent.names },\n        __ruleTypes: { value: this.parent && this.parent.ruleTypes },\n      });\n\n      return config;\n    }\n  },\n);\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,cAAD,CAA1B;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,aAAD,CAAzB;;AAEAG,MAAM,CAACC,OAAP,GAAiBF,SAAS,CACxB,cAAcD,UAAd,CAAyB;EACvBI,WAAW,CAACC,MAAD,EAASC,IAAT,EAAe;IACxB,MAAMD,MAAN;IACA,KAAKC,IAAL,GAAYA,IAAZ;IACA,KAAKC,MAAL,CAAY,CAAC,QAAD,EAAW,SAAX,CAAZ;EACD;;EAEDC,GAAG,CAACC,CAAD,EAAI;IACL,KAAKC,OAAL,CAAaD,CAAC,CAAC,KAAKE,GAAL,CAAS,SAAT,CAAD,CAAd;IACA,OAAO,IAAP;EACD;;EAEDb,KAAK,CAACc,GAAD,EAAMC,IAAI,GAAG,EAAb,EAAiB;IACpB,IAAI,CAACA,IAAI,CAACC,QAAL,CAAc,QAAd,CAAD,IAA4B,YAAYF,GAA5C,EAAiD;MAC/C,KAAKG,MAAL,CAAYH,GAAG,CAACG,MAAhB;IACD;;IAED,IAAI,CAACF,IAAI,CAACC,QAAL,CAAc,SAAd,CAAD,IAA6B,aAAaF,GAA9C,EAAmD;MACjD,KAAKF,OAAL,CAAaZ,KAAK,CAAC,KAAKkB,KAAL,CAAWL,GAAX,CAAe,SAAf,KAA6B,EAA9B,EAAkCC,GAAG,CAACF,OAAtC,CAAlB;IACD;;IAED,OAAO,MAAMZ,KAAN,CAAYc,GAAZ,EAAiB,CAAC,GAAGC,IAAJ,EAAU,QAAV,EAAoB,SAApB,CAAjB,CAAP;EACD;;EAEDI,QAAQ,GAAG;IACT,MAAMC,MAAM,GAAG,KAAKC,KAAL,CAAW,KAAKC,OAAL,MAAkB,EAA7B,CAAf;IAEAC,MAAM,CAACC,gBAAP,CAAwBJ,MAAxB,EAAgC;MAC9BK,SAAS,EAAE;QAAEC,KAAK,EAAE,KAAKlB;MAAd,CADmB;MAE9BmB,WAAW,EAAE;QAAED,KAAK,EAAE,KAAKnB,MAAL,IAAe,KAAKA,MAAL,CAAYqB;MAApC,CAFiB;MAG9BC,WAAW,EAAE;QAAEH,KAAK,EAAE,KAAKnB,MAAL,IAAe,KAAKA,MAAL,CAAYuB;MAApC;IAHiB,CAAhC;IAMA,OAAOV,MAAP;EACD;;AAlCsB,CADD,CAA1B"},"metadata":{},"sourceType":"script"}