{"ast":null,"code":"const ChainedMap = require('./ChainedMap');\n\nconst Rule = require('./Rule');\n\nmodule.exports = class extends ChainedMap {\n  constructor(parent) {\n    super(parent);\n    this.rules = new ChainedMap(this);\n    this.defaultRules = new ChainedMap(this);\n    this.extend(['noParse', 'strictExportPresence']);\n  }\n\n  defaultRule(name) {\n    return this.defaultRules.getOrCompute(name, () => new Rule(this, name, 'defaultRule'));\n  }\n\n  rule(name) {\n    return this.rules.getOrCompute(name, () => new Rule(this, name, 'rule'));\n  }\n\n  toConfig() {\n    return this.clean(Object.assign(this.entries() || {}, {\n      defaultRules: this.defaultRules.values().map(r => r.toConfig()),\n      rules: this.rules.values().map(r => r.toConfig())\n    }));\n  }\n\n  merge(obj, omit = []) {\n    if (!omit.includes('rule') && 'rule' in obj) {\n      Object.keys(obj.rule).forEach(name => this.rule(name).merge(obj.rule[name]));\n    }\n\n    if (!omit.includes('defaultRule') && 'defaultRule' in obj) {\n      Object.keys(obj.defaultRule).forEach(name => this.defaultRule(name).merge(obj.defaultRule[name]));\n    }\n\n    return super.merge(obj, ['rule', 'defaultRule']);\n  }\n\n};","map":{"version":3,"names":["ChainedMap","require","Rule","module","exports","constructor","parent","rules","defaultRules","extend","defaultRule","name","getOrCompute","rule","toConfig","clean","Object","assign","entries","values","map","r","merge","obj","omit","includes","keys","forEach"],"sources":["D:/Desktop/cloud-disk-front/node_modules/webpack-chain/src/Module.js"],"sourcesContent":["const ChainedMap = require('./ChainedMap');\nconst Rule = require('./Rule');\n\nmodule.exports = class extends ChainedMap {\n  constructor(parent) {\n    super(parent);\n    this.rules = new ChainedMap(this);\n    this.defaultRules = new ChainedMap(this);\n    this.extend(['noParse', 'strictExportPresence']);\n  }\n\n  defaultRule(name) {\n    return this.defaultRules.getOrCompute(\n      name,\n      () => new Rule(this, name, 'defaultRule'),\n    );\n  }\n\n  rule(name) {\n    return this.rules.getOrCompute(name, () => new Rule(this, name, 'rule'));\n  }\n\n  toConfig() {\n    return this.clean(\n      Object.assign(this.entries() || {}, {\n        defaultRules: this.defaultRules.values().map((r) => r.toConfig()),\n        rules: this.rules.values().map((r) => r.toConfig()),\n      }),\n    );\n  }\n\n  merge(obj, omit = []) {\n    if (!omit.includes('rule') && 'rule' in obj) {\n      Object.keys(obj.rule).forEach((name) =>\n        this.rule(name).merge(obj.rule[name]),\n      );\n    }\n\n    if (!omit.includes('defaultRule') && 'defaultRule' in obj) {\n      Object.keys(obj.defaultRule).forEach((name) =>\n        this.defaultRule(name).merge(obj.defaultRule[name]),\n      );\n    }\n\n    return super.merge(obj, ['rule', 'defaultRule']);\n  }\n};\n"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,cAAD,CAA1B;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,QAAD,CAApB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,cAAcJ,UAAd,CAAyB;EACxCK,WAAW,CAACC,MAAD,EAAS;IAClB,MAAMA,MAAN;IACA,KAAKC,KAAL,GAAa,IAAIP,UAAJ,CAAe,IAAf,CAAb;IACA,KAAKQ,YAAL,GAAoB,IAAIR,UAAJ,CAAe,IAAf,CAApB;IACA,KAAKS,MAAL,CAAY,CAAC,SAAD,EAAY,sBAAZ,CAAZ;EACD;;EAEDC,WAAW,CAACC,IAAD,EAAO;IAChB,OAAO,KAAKH,YAAL,CAAkBI,YAAlB,CACLD,IADK,EAEL,MAAM,IAAIT,IAAJ,CAAS,IAAT,EAAeS,IAAf,EAAqB,aAArB,CAFD,CAAP;EAID;;EAEDE,IAAI,CAACF,IAAD,EAAO;IACT,OAAO,KAAKJ,KAAL,CAAWK,YAAX,CAAwBD,IAAxB,EAA8B,MAAM,IAAIT,IAAJ,CAAS,IAAT,EAAeS,IAAf,EAAqB,MAArB,CAApC,CAAP;EACD;;EAEDG,QAAQ,GAAG;IACT,OAAO,KAAKC,KAAL,CACLC,MAAM,CAACC,MAAP,CAAc,KAAKC,OAAL,MAAkB,EAAhC,EAAoC;MAClCV,YAAY,EAAE,KAAKA,YAAL,CAAkBW,MAAlB,GAA2BC,GAA3B,CAAgCC,CAAD,IAAOA,CAAC,CAACP,QAAF,EAAtC,CADoB;MAElCP,KAAK,EAAE,KAAKA,KAAL,CAAWY,MAAX,GAAoBC,GAApB,CAAyBC,CAAD,IAAOA,CAAC,CAACP,QAAF,EAA/B;IAF2B,CAApC,CADK,CAAP;EAMD;;EAEDQ,KAAK,CAACC,GAAD,EAAMC,IAAI,GAAG,EAAb,EAAiB;IACpB,IAAI,CAACA,IAAI,CAACC,QAAL,CAAc,MAAd,CAAD,IAA0B,UAAUF,GAAxC,EAA6C;MAC3CP,MAAM,CAACU,IAAP,CAAYH,GAAG,CAACV,IAAhB,EAAsBc,OAAtB,CAA+BhB,IAAD,IAC5B,KAAKE,IAAL,CAAUF,IAAV,EAAgBW,KAAhB,CAAsBC,GAAG,CAACV,IAAJ,CAASF,IAAT,CAAtB,CADF;IAGD;;IAED,IAAI,CAACa,IAAI,CAACC,QAAL,CAAc,aAAd,CAAD,IAAiC,iBAAiBF,GAAtD,EAA2D;MACzDP,MAAM,CAACU,IAAP,CAAYH,GAAG,CAACb,WAAhB,EAA6BiB,OAA7B,CAAsChB,IAAD,IACnC,KAAKD,WAAL,CAAiBC,IAAjB,EAAuBW,KAAvB,CAA6BC,GAAG,CAACb,WAAJ,CAAgBC,IAAhB,CAA7B,CADF;IAGD;;IAED,OAAO,MAAMW,KAAN,CAAYC,GAAZ,EAAiB,CAAC,MAAD,EAAS,aAAT,CAAjB,CAAP;EACD;;AA1CuC,CAA1C"},"metadata":{},"sourceType":"script"}